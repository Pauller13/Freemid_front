<div *ngIf="offer" class="offer-detail">
  <h1 class="offer-title">Détails de l'Offre: {{ offer.title }}</h1>

  <div class="offer-description">
    <p><strong>Description:</strong> {{ offer.description }}</p>
    <p><strong>Budget:</strong> {{ offer.budget }} €</p>
  </div>

  <h2>Propositions</h2>

  <div class="proposal-search">
    <input type="text" pInputText placeholder="Rechercher par freelancer ou message" (input)="filterProposals($event)" class="search-input" />
  </div>

  <p-table [value]="filteredProposals" [paginator]="true" [rows]="10" class="proposal-table">
    <ng-template pTemplate="header">
      <tr>
        <th>Freelancer</th>
        <th>Budget Proposé</th>
        <th>Date Limite</th>
        <th>Message</th>
        <th>Détails</th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-proposal>
      <tr>
        <td>{{ proposal.freelancer.user.first_name }} {{ proposal.freelancer.user.last_name }}</td>
        <td>{{ proposal.proposed_budget }} €</td>
        <td>{{ proposal.proposed_deadline | date: 'dd/MM/yyyy' }}</td>
        <td>{{ proposal.message }}</td>
        <td>
          <a [routerLink]="['/freelancer', proposal.freelancer.id]" class="view-profile-link">Voir le profil</a>
          <button class="accept-button">Accepter</button>
        </td>
      </tr>
    </ng-template>
  </p-table>
</div>
